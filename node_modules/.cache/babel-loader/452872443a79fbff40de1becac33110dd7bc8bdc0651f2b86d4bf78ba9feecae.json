{"ast":null,"code":"import _slicedToArray from\"C:/Users/Maks/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import\"./User_account.css\";import DefaultUser from'./default-user.png';import ArrrowBack from'./back.png';import EditPencil from'./pencil.png';import{Link}from\"react-router-dom\";import useToken from\"../useToken\";import axios from\"axios\";import Login from'../Auth-components/Login/Login';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var name_user=\"User\";var surname=\"Super\";var nickname=\"ProGamer\";var age=17;var score=1234;var user_avatar;//function for getting data about user from backend\nfunction get_data_from_server(token){var headers={username:'kminchelle',password:'0lelplR'};axios.get(\"https://dummyjson.com/auth/login\",{headers:headers}).then(function(response){var data=JSON.parse(response.data);//get user`s data from server\nname_user=data.name_user;surname=data.surname;nickname=data.nickname;age=data.id;score=data.score;user_avatar=data.avatar;}).catch(function(error){console.log(error);});}export default function Account(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditMode=_useState2[0],setIsEditMode=_useState2[1];//button for input\nvar _useToken=useToken(),token=_useToken.token,setToken=_useToken.setToken;//protection against unauthorized users\nif(!token){return/*#__PURE__*/_jsx(Login,{setToken:setToken});};get_data_from_server(token);var handleClick=function handleClick(){// make new input\nvar input=document.createElement(\"input\");input.type=\"text\";input.name=\"nickname\";var container=document.querySelector(\".User_data_Nick_edit\");container.appendChild(input);input.focus();// When push enter - delete input\ninput.addEventListener(\"keypress\",function(e){if(e.key===\"Enter\"&&input.value!==\"\"){// save data from input before delete\nnickname=input.value;var NewNickname={Nickname:nickname};axios.put(\"https://your-server.com/api/users/me\",NewNickname).then(function(response){console.log(response.data);}).catch(function(error){console.log(error);});input.remove();}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"Account\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"Hello_user\",children:[\"Hello, \",name_user,\"!\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"User_data\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"back\",className:\"User_data_back\",children:/*#__PURE__*/_jsx(Link,{to:\"/leaderboard\",children:/*#__PURE__*/_jsx(\"img\",{src:ArrrowBack,alt:\"back\",className:\"User_data_back\"})})}),/*#__PURE__*/_jsx(\"img\",{src:user_avatar?user_avatar:DefaultUser,alt:\"DefUser\",className:\"User_data_DefaultUser\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"User_data_text\",children:[\"Name: \",name_user]}),/*#__PURE__*/_jsxs(\"span\",{className:\"User_data_text\",children:[\"Surname: \",surname]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Nick\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"User_data_Nick_text\",children:[\"Nickname: \",nickname]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"User_data_Nick_edit\",onClick:function onClick(){setIsEditMode(!isEditMode);if(isEditMode){handleClick();}},children:/*#__PURE__*/_jsx(\"img\",{src:EditPencil,alt:\"edit\",className:\"User_data_Nick_edit\"})})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"User_data_text\",children:[\"Age: \",age]}),/*#__PURE__*/_jsxs(\"span\",{className:\"User_data_text\",children:[\"your best score: \",score]})]})]});}","map":{"version":3,"names":["React","useState","DefaultUser","ArrrowBack","EditPencil","Link","useToken","axios","Login","jsx","_jsx","jsxs","_jsxs","name_user","surname","nickname","age","score","user_avatar","get_data_from_server","token","headers","username","password","get","then","response","data","JSON","parse","id","avatar","catch","error","console","log","Account","_useState","_useState2","_slicedToArray","isEditMode","setIsEditMode","_useToken","setToken","handleClick","input","document","createElement","type","name","container","querySelector","appendChild","focus","addEventListener","e","key","value","NewNickname","Nickname","put","remove","className","children","to","src","alt","onClick"],"sources":["C:/Users/Maks/my-app/src/User_account/User_account.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport \"./User_account.css\";\r\nimport DefaultUser from './default-user.png';\r\nimport ArrrowBack from './back.png';\r\nimport EditPencil from './pencil.png';\r\nimport { Link } from \"react-router-dom\";\r\nimport useToken from \"../useToken\";\r\nimport axios from \"axios\";\r\nimport Login from '../Auth-components/Login/Login';\r\n\r\nlet name_user = \"User\";\r\nlet surname = \"Super\";\r\nlet nickname = \"ProGamer\";\r\nlet age = 17;\r\nlet score = 1234;\r\nlet user_avatar;\r\n\r\n//function for getting data about user from backend\r\nfunction get_data_from_server(token){\r\n  const headers = {\r\n    username: 'kminchelle',\r\n    password: '0lelplR',\r\n  };\r\n\r\n  axios.get(\"https://dummyjson.com/auth/login\", { headers })\r\n    .then((response) => {\r\n      const data = JSON.parse(response.data);\r\n\r\n      //get user`s data from server\r\n      name_user = data.name_user;\r\n      surname = data.surname;\r\n      nickname = data.nickname;\r\n      age = data.id;\r\n      score = data.score;\r\n      user_avatar = data.avatar;\r\n      \r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n\r\n\r\nexport default function Account() {\r\n  const [isEditMode, setIsEditMode] = useState(false);  //button for input\r\n\r\n  const { token, setToken } = useToken();               //protection against unauthorized users\r\n  if(!token) {\r\n    return <Login setToken={setToken} />\r\n  };\r\n\r\n  get_data_from_server(token);\r\n\r\n  const handleClick = () => {\r\n    // make new input\r\n    const input = document.createElement(\"input\");\r\n    input.type = \"text\";\r\n    input.name = \"nickname\";\r\n    \r\n    \r\n    const container = document.querySelector(\".User_data_Nick_edit\");\r\n    container.appendChild(input);\r\n  \r\n    \r\n    input.focus();\r\n  \r\n    // When push enter - delete input\r\n    input.addEventListener(\"keypress\", (e) => {\r\n      if (e.key === \"Enter\" && input.value !== \"\") {\r\n          // save data from input before delete\r\n        \r\n          nickname = input.value;\r\n          \r\n          const NewNickname = {\r\n            Nickname: nickname\r\n          };\r\n          \r\n          axios.put(\"https://your-server.com/api/users/me\", NewNickname)\r\n              .then((response) => {\r\n                console.log(response.data)      \r\n              })\r\n              .catch((error) => {\r\n                console.log(error);\r\n              });\r\n         \r\n          input.remove();\r\n      }\r\n  });\r\n  \r\n  };\r\n\r\n  return(\r\n\r\n    <div className='Account'>\r\n        <h1 className='Hello_user'>Hello, {name_user}!</h1>\r\n        <div className='User_data'>\r\n            <button type=\"back\" className=\"User_data_back\">\r\n              <Link to=\"/leaderboard\">\r\n                  <img src={ArrrowBack} alt=\"back\" className=\"User_data_back\" />\r\n              </Link>\r\n              </button>\r\n            <img src={ user_avatar ? user_avatar : DefaultUser} alt=\"DefUser\" className=\"User_data_DefaultUser\" />\r\n            <span className='User_data_text'>Name: {name_user}</span>\r\n            <span className='User_data_text'>Surname: {surname}</span>\r\n            <div className='Nick'>\r\n              <span className='User_data_Nick_text'>Nickname: {nickname}</span>\r\n              \r\n              <button type=\"button\" className=\"User_data_Nick_edit\" onClick={() => {\r\n                  setIsEditMode(!isEditMode);\r\n                  if (isEditMode) {\r\n                  handleClick();\r\n                  }}}>\r\n               <img src={EditPencil} alt=\"edit\" className=\"User_data_Nick_edit\" />\r\n              </button>\r\n            </div>\r\n            <span className='User_data_text'>Age: {age}</span>\r\n            <span className='User_data_text'>your best score: {score}</span>\r\n\r\n\r\n\r\n\r\n        </div>\r\n    </div>\r\n\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}